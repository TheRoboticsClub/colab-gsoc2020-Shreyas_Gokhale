<!DOCTYPE html> <html lang="en-US"> <head prefix="og: http://ogp.me/ns#"> <meta charset="UTF-8" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta name="mobile-web-app-capable" content="yes" /> <meta name="p:domain_verify" content="74b28158c46b8035f8f4a5ba032e51b2" /> <meta name="apple-mobile-web-app-capable" content="yes" /> <meta name="application-name" content="GSoC 2020 | Shreyas Gokhale" /> <meta name="apple-mobile-web-app-status-bar-style" content="#fff" /> <meta name="apple-mobile-web-app-title" content="GSoC 2020 | Shreyas Gokhale" /> <title> Back to the start - GSoC 2020 | Shreyas Gokhale </title> <link rel="alternate" href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/back-to-the-start" hreflang="en-US" /> <link rel="canonical" href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/back-to-the-start" /> <meta name="description" content="New amazon robot model and finalizing the exercise." /> <meta name="referrer" content="no-referrer-when-downgrade" /> <meta property="fb:app_id" content="" /> <meta property="og:site_name" content="Back to the start | shreyasgokhale" /> <meta property="og:title" content="Back to the start | shreyasgokhale" /> <meta property="og:type" content="website" /> <meta property="og:url" content="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/back-to-the-start" /> <meta property="og:description" content="New amazon robot model and finalizing the exercise." /> <meta property="og:image" content="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/assets/img/ogp.png" /> <meta property="og:image:width" content="640" /> <meta property="og:image:height" content="640" /> <meta name="twitter:card" content="summary" /> <meta name="twitter:title" content="Back to the start | shreyasgokhale" /> <meta name="twitter:url" content="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/back-to-the-start" /> <meta name="twitter:site" content="@shreyasgokhale" /> <meta name="twitter:creator" content="@shreyasgokhale" /> <meta name="twitter:description" content="New amazon robot model and finalizing the exercise." /> <meta name="twitter:image" content="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/assets/img/ogp.png" /> <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/feed.xml" title="GSoC 2020 | Shreyas Gokhale" /> <link rel="apple-touch-icon" sizes="180x180" href="/colab-gsoc2020-Shreyas_Gokhale/assets/favicons/apple-touch-icon.png" /> <link rel="icon" type="image/png" sizes="32x32" href="/colab-gsoc2020-Shreyas_Gokhale/assets/favicons/favicon-32x32.png" /> <link rel="icon" type="image/png" sizes="16x16" href="/colab-gsoc2020-Shreyas_Gokhale/assets/favicons/favicon-16x16.png" /> <link rel="manifest" href="/colab-gsoc2020-Shreyas_Gokhale/assets/favicons/site.webmanifest" /> <link rel="mask-icon" href="/colab-gsoc2020-Shreyas_Gokhale/assets/favicons/safari-pinned-tab.svg" color="#5bbad5" /> <meta name="apple-mobile-web-app-title" content="ShreyasGokhale" /> <meta name="application-name" content="ShreyasGokhale" /> <meta name="msapplication-TileColor" content="#da532c" /> <meta name="theme-color" content="#2c2c2c" /> <link rel="stylesheet" href="/colab-gsoc2020-Shreyas_Gokhale/assets/css/style.css" /> </head> <body> <div class="navbar" role="navigation"> <nav class="menu"> <input type="checkbox" id="menu-trigger" class="menu-trigger" /> <label for="menu-trigger"> <span class="menu-icon"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z" /> </svg> </span> </label> <a id="mood"> <svg class="mood-sunny" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>LIGHT</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> <svg class="mood-moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 512 512" > <title>DARK</title> <line x1="256" y1="48" x2="256" y2="96" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="256" y1="416" x2="256" y2="464" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="108.92" x2="369.14" y2="142.86" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="369.14" x2="108.92" y2="403.08" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="464" y1="256" x2="416" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="96" y1="256" x2="48" y2="256" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="403.08" y1="403.08" x2="369.14" y2="369.14" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <line x1="142.86" y1="142.86" x2="108.92" y2="108.92" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> <circle cx="256" cy="256" r="80" style="stroke-linecap:round;stroke-miterlimit:10;stroke-width:32px" /> </svg> </a> <div class="trigger"> <div class="trigger-container"> <a class="menu-link" href="/colab-gsoc2020-Shreyas_Gokhale">home</a> <a class="menu-link" href="/colab-gsoc2020-Shreyas_Gokhale/about/">about author</a> <a class="menu-link" href="https://www.notion.so/shreyasgokhale/GSoC-JdeRobot-ff2c6cf65b3f4a488ca0af77e1daeff1" target="_blank" rel="noopener" >GSoC dashboard</a > <a class="menu-link" href="https://jderobot.github.io/" target="_blank" rel="noopener" >jderobot academy</a > <a class="menu-link" href="https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale" target="_blank" rel="noopener" >github repo</a > <a class="menu-link rss" href="/feed.xml"> <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 512 512" fill="#ED812E" > <title>RSS</title> <path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z" /> <path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z" /> <path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z" /> </svg> </a> </div> </div> </nav> </div> <div class="wrapper post"> <main class="page-content" aria-label="Content"> <article itemscope itemtype="https://schema.org/BlogPosting"> <header class="header"> <div class="tags"> <span itemprop="keywords"> <a class="tag" href="/colab-gsoc2020-Shreyas_Gokhale/tags/#amazon-warehouse-robot">AMAZON-WAREHOUSE-ROBOT</a>, <a class="tag" href="/colab-gsoc2020-Shreyas_Gokhale/tags/#exercise">EXERCISE</a>, <a class="tag" href="/colab-gsoc2020-Shreyas_Gokhale/tags/#gazebo">GAZEBO</a>, <a class="tag" href="/colab-gsoc2020-Shreyas_Gokhale/tags/#week-5">WEEK-5</a>, <a class="tag" href="/colab-gsoc2020-Shreyas_Gokhale/tags/#week-6">WEEK-6</a> </span> </div> <h1 class="header-title" itemprop="headline">Back to the start</h1> <div class="post-meta"> <time datetime="2020-07-10T22:00:00+02:00" itemprop="datePublished"> Jul 10, 2020 </time> <span itemprop="author" itemscope itemtype="https://schema.org/Person"> <span itemprop="name">Shreyas Gokhale</span> </span> <time hidden datetime="" itemprop="dateModified"> Jul 10, 2020 </time> <span hidden itemprop="publisher" itemtype="Person">Shreyas Gokhale</span> <span hidden itemprop="image"></span> <span hidden itemprop="mainEntityOfPage"><blockquote> <p>Issues Fixed:</p> <p>PR <a href="https://github.com/JdeRobot/CustomRobots/pull/1">#1</a> on Jderobot/CustomRobots for new gazebo model.</p> </blockquote> </span> </div> </header> <div class="page-content" itemprop="articleBody"> <blockquote> <p>Issues Fixed:</p> <p>PR <a href="https://github.com/JdeRobot/CustomRobots/pull/1">#1</a> on Jderobot/CustomRobots for new gazebo model.</p> </blockquote> <h1 id="week-5--6-blog"> <a href="#week-5--6-blog" class="anchor-head"></a> Week 5 + 6 blog </h1> <h2 id="going-back-to-the-drawing-board"> <a href="#going-back-to-the-drawing-board" class="anchor-head"></a> Going back to the drawing board </h2> <p>The world is constantly changing. 10 years ago, Facebook was just a new craze and Instagram didn’t exist. But as new technologies and innovations got introduced, they changed the way we do things, and so the way ROS worked.</p> <p>Here is an amazing youtube video shot by Redhat explaining the origin story of ROS. I would recommend every ROS developer to watch it at least once, just to get an idea about the complexity of the project and people involved.</p> <div class="embed-container"> <iframe src="https://www.youtube.com/embed/ErHAhRiUaY0" width="700" height="480" frameborder="0" allowfullscreen=""> </iframe> </div> <p>Coming back to our story, when I started working with the existing amazon robot gazebo model for the exercise, I realized that it is not working properly. The lift, lasers didn’t work and the model was in <code class="highlighter-rouge">.sdf</code> format. This format describes how to display the robots in Gazebo, however, it is not so friendly with other pieces of the software. The “new” way of doing things is to create different <code class="highlighter-rouge">.xacro</code> format files. This is achieved in by creating three different files</p> <ol> <li><code class="highlighter-rouge">&lt;robot&gt;.gazebo.xacro</code> which describes our robot for gazebo parameters (colours, physics, plugins for sensors etc)</li> <li><code class="highlighter-rouge">&lt;robot&gt;.transmission.xacro</code> for the transmissions of joints.</li> <li><code class="highlighter-rouge">&lt;robot&gt;.urdf.gazebo</code> for describing links and joints.</li> </ol> <p>Some of the tutorials that I followed:</p> <p><a href="http://gazebosim.org/tutorials?tut=build_model">Make a model</a></p> <p><a href="http://gazebosim.org/tutorials/?tut=ros_urdf">URDF in Gazebo</a></p> <p>In the beginning I was trying to update the existing robot model to match the new format. Here is the image describing old robot and the robot I was trying to modify.</p> <p><img src="assets/blog-images/week-5-6/Untitled.png" alt="assets/blog-images/week-5-6/Untitled.png" /></p> <p><img src="assets/blog-images/week-5-6/Untitled%201.png" alt="assets/blog-images/week-5-6/Untitled%201.png" /></p> <p><img src="assets/blog-images/week-5-6/Untitled%202.png" alt="assets/blog-images/week-5-6/Untitled%202.png" /></p> <p>Our model was static, which means it will be ignored by the physics engine. As a result the model will stay in one place and allow us to properly align all the components.</p> <p>However, while working on this, I realized that the existing model needed to be updated in major way. Creating new links, setting physics properties and adding supported stuff on top of it was essential to make the exercise workable. Instead of reinventing the wheel, I thought, why not find some existing robot bases and build my model on top of it? The best way to create new stuff is to follow the best practices and so I decided to use turtlebot3_waffle_pi as the base.</p> <p><a href="https://github.com/ROBOTIS-GIT/turtlebot3/blob/master/turtlebot3_description/urdf/turtlebot3_waffle.gazebo.xacro">ROBOTIS-GIT/turtlebot3</a></p> <p><img src="assets/blog-images/week-5-6/Untitled%203.png" alt="assets/blog-images/week-5-6/Untitled%203.png" /></p> <p>Now we can use xacro publisher to publish robot states. Sweet.</p> <p>After some tweaks, our initial model is ready</p> <div class="embed-container"> <iframe src="https://www.youtube.com/embed/4DCr3LRLVLE" width="700" height="480" frameborder="0" allowfullscreen=""> </iframe> </div> <p>In order to control, we need to install ros-control <a href="http://gazebosim.org/tutorials?tut=ros_control">ROS control</a> packages</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-noetic-ros-control ros-noetic-ros-controllers
<span class="nb">sudo </span>apt-get <span class="nb">install </span>ros-noetic-gazebo-ros-control
</code></pre></div></div> <p>However, the robot is too small to push around big pallets of storage. To fix that, I had to make the robot 2ce bigger and had to fix wheels and other joints accordingly. I increased the friction coefficient of platform and wheels, so they grip more.</p> <p>And finally, we can make prismatic joint work by publishing to a ros joint.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rostopic pub <span class="nt">-1</span> /amazon_robot/joint1_position_controller/command std_msgs/Float64 <span class="s2">"data: 1"</span>
</code></pre></div></div> <p>The new exercise is now ready to use! Have fun!</p> <div class="embed-container"> <iframe src="https://www.youtube.com/embed/HtUEAweSmAg" width="700" height="480" frameborder="0" allowfullscreen=""> </iframe> </div> <h2 id="references"> <a href="#references" class="anchor-head"></a> References </h2> <ul> <li><a href="https://dyno-docs.readthedocs.io/en/latest/simulation/robots.html#forklift">Robots - Dyno 1 documentation</a></li> <li><a href="https://github.com/samiamlabs/dyno">samiamlabs/dyno</a></li> <li><a href="https://en.wikipedia.org/wiki/Friction#Coefficient_of_friction">Friction</a></li> <li>Plugin for maps from gazebo state <a href="https://github.com/marinaKollmitz/gazebo_ros_2Dmap_plugin">marinaKollmitz/gazebo_ros_2Dmap_plugin</a></li> <li><a href="http://wiki.ros.org/urdf/XML/joint">URDF Wiki</a></li> </ul> <p><strong><em>Viszlát!</em></strong></p> </div> </article> </main> <nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/colab-gsoc2020-Shreyas_Gokhale/phase-one-report" > <div class="nav-arrow">Previous</div> <span class="post-title">Evaluation 1 Report!</span> </a> </nav> </div> <footer class="footer"> <a class="footer_item" href="https://github.com/shreyasgokhale">github</a> <a class="footer_item" href="https://www.linkedin.com/in/shreyas6gokhale/">linkedin</a> <a class="footer_item" href="https://www.instagram.com/elementaryshr/">instagram</a> <a class="footer_item" href="https://shreyasgokhale.com/">blog</a> <a class="footer_item" href="https://www.shreyasgokhaleresu.me/">portfolio</a> <a class="footer_item" href="/feed.xml">rss</a> <span class="footer_item">&copy; 2020</span> <small class="footer_theme-copyright"> <!-- Klisé Theme: https://github.com/piharpi/jekyll-klise --> <a href="https://jekyllrb.com" target="_blank" rel="noreferrer noopener" >jekyll</a> <a href="https://github.com/piharpi/jekyll-klise" target="_blank" rel="noreferrer noopener" >klisé</a> theme | modified by <a href="https://shreyasgokhale.com/" target="_blank" rel="noreferrer noopener" >shreyas</a> </small> </footer> <script src="/colab-gsoc2020-Shreyas_Gokhale/assets/js/main.js" defer="defer"></script> <script src="/colab-gsoc2020-Shreyas_Gokhale/assets/js/galite.js"></script> <script> var galite = galite || {}; galite.UA = "UA-126403543-4"; </script> </body> </html>
