<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-US"><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/" rel="alternate" type="text/html" hreflang="en-US" /><updated>2020-07-02T01:42:50+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/feed.xml</id><title type="html">GSoC 2020 | Shreyas Gokhale</title><subtitle>Creating new multirobot &lt;br&gt; exercises for Jderobot Academy &lt;br&gt; &lt;b&gt;&lt;a href=&quot;https://summerofcode.withgoogle.com/projects/#5877403320057856&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;JdeMultiBot&lt;/a&gt;&lt;/b&gt; &lt;br&gt;</subtitle><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><entry><title type="html">Evaluation 1 Report!</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/phase-one-report" rel="alternate" type="text/html" title="Evaluation 1 Report!" /><published>2020-07-01T22:00:00+02:00</published><updated>2020-07-01T22:00:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/phase-one-report</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/phase-one-report">&lt;h1 id=&quot;gsoc-phase-1-report&quot;&gt;GSoC Phase 1 Report&lt;/h1&gt;

&lt;p&gt;The first 4 weeks of Google summer of code were quite productive. I got acquainted with the development of Jderobot, created docker containers, migrated Amazon Warehouse exercise and published videos, everything within a month.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Week&lt;/th&gt;
      &lt;th&gt;Dates&lt;/th&gt;
      &lt;th&gt;Main Tasks&lt;/th&gt;
      &lt;th&gt;Sub tasks completed&lt;/th&gt;
      &lt;th&gt;Issues Resolved / PRs Merged&lt;/th&gt;
      &lt;th&gt;Blog&lt;/th&gt;
      &lt;th&gt;Type&lt;/th&gt;
      &lt;th&gt;Published URL&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Week 0&lt;/td&gt;
      &lt;td&gt;4th May - 1st June&lt;/td&gt;
      &lt;td&gt;Getting to know Jderobot Academy, Setup&lt;/td&gt;
      &lt;td&gt;Solving Global navigation exercise: Path planner, motion planning&lt;/td&gt;
      &lt;td&gt;Issues Fixed: #1 with PR&lt;/td&gt;
      &lt;td&gt;Beginning of GSoC Journey, Community Bonding 1,2&lt;/td&gt;
      &lt;td&gt;Blog&lt;/td&gt;
      &lt;td&gt;https://theroboticsclub.github.io/colab-gsoc2020-Shreyas_Gokhale/beginning-of-gsoc-journey&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Week 1&lt;/td&gt;
      &lt;td&gt;1st June - 7th June&lt;/td&gt;
      &lt;td&gt;Releasing Jderobot Assets&lt;/td&gt;
      &lt;td&gt;Adding Jderobot_assets for ROS Noetic Distro, Writing instructible guide, Creating complete docker image&lt;/td&gt;
      &lt;td&gt;#53,54 “Adding Noetic support for repo” with PRs #54 for Jderobot_assets, and #25236 for ROS distro with commits.&lt;/td&gt;
      &lt;td&gt;And we have a liftoff!&lt;/td&gt;
      &lt;td&gt;How To, Release&lt;/td&gt;
      &lt;td&gt;https://theroboticsclub.github.io/colab-gsoc2020-Shreyas_Gokhale/and-we-have-a-liftoff&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Week 2&lt;/td&gt;
      &lt;td&gt;8th June - 14th June&lt;/td&gt;
      &lt;td&gt;Porting Amazon Exercise to ROS Noetic&lt;/td&gt;
      &lt;td&gt;Porting existing packes for Python and C++&lt;/td&gt;
      &lt;td&gt;#3 with PR #4.&lt;/td&gt;
      &lt;td&gt;Let’s start (c)making&lt;/td&gt;
      &lt;td&gt;Research&lt;/td&gt;
      &lt;td&gt;https://theroboticsclub.github.io/colab-gsoc2020-Shreyas_Gokhale/lets-start-cmaking&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Week 3&lt;/td&gt;
      &lt;td&gt;14th June -1st June&lt;/td&gt;
      &lt;td&gt;Porting Amazon Exercise to ROS Noetic&lt;/td&gt;
      &lt;td&gt;Removing comm dependency and adding connector library&lt;/td&gt;
      &lt;td&gt;#5 with PR #6.&lt;/td&gt;
      &lt;td&gt;Connecting the dots!&lt;/td&gt;
      &lt;td&gt;Development&lt;/td&gt;
      &lt;td&gt;https://theroboticsclub.github.io/colab-gsoc2020-Shreyas_Gokhale/connecting-the-dots&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Week 4&lt;/td&gt;
      &lt;td&gt;22nd June -28th June&lt;/td&gt;
      &lt;td&gt;Launching Exercise&lt;/td&gt;
      &lt;td&gt;Writing instructions, Finalizing Docker, Model Updates&lt;/td&gt;
      &lt;td&gt;PR #58 on Jderobot/assets for gazebo model update. PR #1401 on Jderobot/base for connector package. PR #8 on colab repo for launchable docker exercise.&lt;/td&gt;
      &lt;td&gt;Launch off!&lt;/td&gt;
      &lt;td&gt;Publishing Exercise&lt;/td&gt;
      &lt;td&gt;https://theroboticsclub.github.io/colab-gsoc2020-Shreyas_Gokhale/launch-off&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Week 5&lt;/td&gt;
      &lt;td&gt;29th June - 5th July&lt;/td&gt;
      &lt;td&gt;Launching Exercise, New idea discussion&lt;/td&gt;
      &lt;td&gt;Releasing video, How - to guide, Official release for ROS Noetic&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="evaluation" /><summary type="html">GSoC Phase 1 Report</summary></entry><entry><title type="html">Launch Off!</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/launch-off" rel="alternate" type="text/html" title="Launch Off!" /><published>2020-06-27T10:00:00+02:00</published><updated>2020-06-27T10:00:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/launch-off</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/launch-off">&lt;blockquote&gt;
  &lt;p&gt;Issues Fixed:&lt;/p&gt;

  &lt;p&gt;PR &lt;a href=&quot;https://github.com/JdeRobot/assets/pull/58#event-3488709128&quot;&gt;#58&lt;/a&gt; on Jderobot/assets for gazebo model update.&lt;/p&gt;

  &lt;p&gt;PR &lt;a href=&quot;https://github.com/JdeRobot/base/pull/1401&quot;&gt;#1401&lt;/a&gt; on Jderobot/base for connector package.&lt;/p&gt;

  &lt;p&gt;PR &lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/pull/8&quot;&gt;#8&lt;/a&gt; on colab repo for launchable docker exercise.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;week-4&quot;&gt;Week 4&lt;/h1&gt;

&lt;p&gt;After last week’s removal of comm, I was pretty confident about being able to run the exercise. But it seemed like the exercise wasn’t ready for that yet! I couldn’t seem to get cmd vel (joystick) working.&lt;/p&gt;

&lt;p&gt;After digging up a bit, I traced the problem back to &lt;code class=&quot;highlighter-rouge&quot;&gt;model.sdf&lt;/code&gt; file. This is gazebo model which describes how our robot looks and behaves like. One major part of gazebo are &lt;a href=&quot;http://gazebosim.org/tutorials?tut=ros_gzplugins&quot;&gt;plugins&lt;/a&gt; and they are binaries which code the functionality, for example lasers and motors. I was getting following error:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;libgazebo_ros_diff_drive.so not found&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;After trying for hours, posting on ROS forum and getting frustrated, I finally found the culprit: &lt;code class=&quot;highlighter-rouge&quot;&gt;gazebo-plugins&lt;/code&gt;  . This package was necessary to run the default plugins and luckily it just got ported to noetic. After fixing some issues with the sdf, the whole exercise is now up and running!&lt;/p&gt;

&lt;h2 id=&quot;amazon-warehouse-exercise&quot;&gt;Amazon Warehouse exercise&lt;/h2&gt;

&lt;p&gt;The objective of this practice is to implement the autonomous robot navigation and pick-and-place logic in warehouse.&lt;/p&gt;

&lt;p&gt;For trying out, you have 2 options:&lt;/p&gt;

&lt;h3 id=&quot;docker-install&quot;&gt;Docker install&lt;/h3&gt;

&lt;p&gt;This is the preferred installation method.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Follow &lt;a href=&quot;https://docs.docker.com/get-docker/&quot;&gt;these instructions&lt;/a&gt; to install docker and docker-compose.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Clone my repo&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git clone https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Run from the root directory&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; xhost +&lt;span class=&quot;s2&quot;&gt;&quot;local:docker@&quot;&lt;/span&gt;
 docker-compose up &lt;span class=&quot;nt&quot;&gt;--force-recreate&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Sit back, sip a coffee or whatever while the dockerfile is being built. The exercise will be launched automatically once building is finished.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;manual-installation&quot;&gt;Manual Installation&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Follow the instructions on &lt;a href=&quot;http://wiki.ros.org/noetic/Installation/Ubuntu&quot;&gt;ROS Wiki&lt;/a&gt; to install the latest ROS and on &lt;a href=&quot;http://gazebosim.org/tutorials?tut=install_ubuntu&amp;amp;cat=install&quot;&gt;Gazebo Wiki&lt;/a&gt; to install Gazebo 11.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install all the dependencies&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt update
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;python-rosdep python-rosinstall python-rosinstall-generator python-wstool build-essential  
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;rosdep init  
 rosdep update
 &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;ros-noetic-mavros ros-noetic-gazebo-ros python3-pip ros-noetic-navigation ros-noetic-gazebo-plugins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Install Jderobot Assets&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;ros-noetic-jderobot-assets
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;The model.sdf file needs slight modification (until aptitude packages are updated). So grab the updated file and copy it over to the original file&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wget https://raw.githubusercontent.com/JdeRobot/assets/noetic-devel/jderobot_assets/models/amazon_warehouse_robot/model.sdf &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;model.sdf&quot;&lt;/span&gt;
 &lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt; model.sdf /opt/jderobot/share/jderobot/gazebo/models/amazon_warehouse_robot/model.sdf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Clone my repo&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; git clone https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Run the exercise&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;exercises/amazon_warehouse/launch 
 roslaunch amazonrobot_1_warehouse.launch map_file:&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;maps/map.yaml 
 python3 amazonWarehouse.py amazonMap.conf amazonConf.yml

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Try to code your solution in &lt;code class=&quot;highlighter-rouge&quot;&gt;mysolution.py&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Let me know if you face any issues or bugs.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Viszlát!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="amazon-warehouse" /><category term="exercise" /><category term="porting" /><category term="week-4" /><summary type="html">Issues Fixed: PR #58 on Jderobot/assets for gazebo model update. PR #1401 on Jderobot/base for connector package. PR #8 on colab repo for launchable docker exercise.</summary></entry><entry><title type="html">Connecting the dots!</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/connecting-the-dots" rel="alternate" type="text/html" title="Connecting the dots!" /><published>2020-06-21T12:30:00+02:00</published><updated>2020-06-21T12:30:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/connecting-the-dots</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/connecting-the-dots">&lt;blockquote&gt;
  &lt;p&gt;Issues Fixed:&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/issues/5&quot;&gt;#5&lt;/a&gt; with PR &lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/pull/6&quot;&gt;#6&lt;/a&gt;.&lt;/p&gt;

  &lt;p&gt;Added new branch for Jderobot/base -&amp;gt; &lt;a href=&quot;https://github.com/shreyasgokhale/base/tree/noetic-devel&quot;&gt;noetic-devel&lt;/a&gt; with connector dependency added&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;week-3-blog&quot;&gt;Week 3 Blog&lt;/h1&gt;

&lt;p&gt;In last blog I briefly talked about Cmake and porting from the old Jderobot/base code. For this week I wanted to clarify more on how that turned out.&lt;/p&gt;

&lt;h2 id=&quot;jderobot-base-and-comm-library&quot;&gt;Jderobot base and comm library&lt;/h2&gt;

&lt;p&gt;Jderobot Base package is the backbone for all the real and virtual robot development at the academy. It is essentially a collection of various drivers and libraries. It contains source code in C++ for real robots and in python for academy exercises. The code is arranged using CMakeLists and has lots of flags, options and tests depending on which operating system you are running the code. I found out an &lt;a href=&quot;https://gsyc.urjc.es/jmplaza/papers/robocity2013-jderobot.pdf&quot;&gt;excellent paper&lt;/a&gt; on the base package written by the founders and it is worth a read for anyone who is working on the academy.&lt;/p&gt;

&lt;p&gt;Currently, the base project is going through a major change. We have completely switched from &lt;a href=&quot;https://zeroc.com/&quot;&gt;ICE&lt;/a&gt; based communication to native ROS middleware based Pub and Sub mechanism. Some of the libraries and packages are now outdated and some of them are now even available in native ros packages. Lastly, python2 is now obsolete and it makes very essential to use python3 in order to support the latest ROS1,ROS2 releases.&lt;/p&gt;

&lt;p&gt;So the new release for academy is going to be a major one and as my project already had some ported dependencies I wanted to also contribute to it. The major one was the backbone communication library: &lt;code class=&quot;highlighter-rouge&quot;&gt;comm&lt;/code&gt; . It was used to get the objects for moules from ICE or ROS depending on the architecture, for example Laser Sensors, Motors or Camera.&lt;/p&gt;

&lt;p&gt;For our use case, the existing version of Comm library acts as a glue between jderobot academy exercise and ros framework. So for example, If I want to perform SLAM in the python application in jderobot exercises, I have to get it somehow from gazebo. The &lt;strong&gt;OLD&lt;/strong&gt; flow of information is as follows&lt;/p&gt;

&lt;p&gt;&lt;span style=&quot;color:magenta&quot;&gt;Gazebo → ROS topic → &lt;strong&gt;C++ Comm&lt;/strong&gt; &lt;/span&gt;  &lt;span style=&quot;font-size:2em&quot;&gt; &lt;em&gt;→&lt;/em&gt;   &lt;/span&gt; &lt;span style=&quot;color:green&quot;&gt; &lt;strong&gt;Python Comm&lt;/strong&gt; → Exercise Application  → My Solution &lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The left side of the big arrow (or text with magenta colour) is C++ domain and the text on the right side (or the text with green colour) is python domain. Our module of interest here is the bold part.&lt;/p&gt;

&lt;p&gt;But now in the new version, we will be using native ros middleware to handle the communication. As we only need the rosnode objects in order to publish / subscribe to these nodes, we don’t need this extra &lt;strong&gt;Comm&lt;/strong&gt; middleware. Just get the object of &lt;code class=&quot;highlighter-rouge&quot;&gt;rospy.Publisher&lt;/code&gt; / &lt;code class=&quot;highlighter-rouge&quot;&gt;rospy.Subscriber&lt;/code&gt; and we are done! So the whole comm stuff becomes redundant. But we cannot simply delete this folder and forget about it like it never existed. We need to somehow connect the exercise to the publisher..&lt;/p&gt;

&lt;h2 id=&quot;connector-package&quot;&gt;Connector Package&lt;/h2&gt;

&lt;p&gt;A new &lt;code class=&quot;highlighter-rouge&quot;&gt;connector&lt;/code&gt; package is my solution of the problem. It simply returns the Publisher / Subscriber object of the requested module. We still use all the class definitions that existed for sensors and modules, but we don’t publish using ICE. Now we can remove all the packages like &lt;code class=&quot;highlighter-rouge&quot;&gt;easyiceconfig&lt;/code&gt; and refactor &lt;code class=&quot;highlighter-rouge&quot;&gt;parallelice&lt;/code&gt; directory. Sweet!&lt;/p&gt;

&lt;p&gt;This change is however, as they call it, a breaking one! Comm module is referenced by so many other modules and we have to go through each of the CMake dependencies to make sure that it doesn’t make other stuff stop working. This work will be continue in the upcoming weeks and will be tested.&lt;/p&gt;

&lt;p&gt;You can check out the connector package &lt;a href=&quot;https://github.com/shreyasgokhale/base/tree/noetic-devel&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;In the next week, the exercise will be launched, ready to be tested by the students!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Näkemiin!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="comm" /><category term="connector" /><category term="porting" /><category term="week-3" /><summary type="html">Issues Fixed: #5 with PR #6. Added new branch for Jderobot/base -&amp;gt; noetic-devel with connector dependency added</summary></entry><entry><title type="html">Let’s start (c)making!</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/lets-start-cmaking" rel="alternate" type="text/html" title="Let's start (c)making!" /><published>2020-06-12T14:30:00+02:00</published><updated>2020-06-12T14:30:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/lets-start-cmaking</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/lets-start-cmaking">&lt;blockquote&gt;
  &lt;p&gt;Issues Fixed:&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/issues/3&quot;&gt;#3&lt;/a&gt; with PR &lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/pull/4/commits&quot;&gt;#4&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;week-2-blog&quot;&gt;Week 2 Blog&lt;/h1&gt;

&lt;p&gt;I explained in my last &lt;a href=&quot;https://theroboticsclub.github.io/colab-gsoc2020-Shreyas_Gokhale/and-we-have-a-liftoff&quot;&gt;blog&lt;/a&gt; why it is essential to have packages regularly updated. But what if you are on the other side of the problem. You want to upgrade your package but your dependecies are not yet upgraded. This is the same issue that I was facing with jderobot/base . Our exercise is dependant on some libraries from base, but this package is in process of getting completely upgraded. Until then, I’ll have to &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt; it myself!&lt;/p&gt;

&lt;h2 id=&quot;cmake-build-system&quot;&gt;CMake Build system&lt;/h2&gt;

&lt;p&gt;CMake is an open-source, cross-platform family of tools designed to build, test and package software.  It is used widely in software development, and not just for C/ C++.&lt;/p&gt;

&lt;h2 id=&quot;what-to-port&quot;&gt;What to port?&lt;/h2&gt;

&lt;p&gt;Currently we have libraries in jderobot/base repository which are used to run the exercises. These libraries represent some tools, communication tools etc. However, most of them are out of date. For example, the comm library, which is still used as a backbone for communication in Python2 based jderobot exercises. However, we have switched to ros based middleware for communication which can be run on python 3 ( and therefore in latest ROS 1 and ROS 2 releases)&lt;/p&gt;

&lt;p&gt;The goal here is to find all the related libraries in Jderobot base which my exercise depends on and then just create a simple cmake project which &lt;code class=&quot;highlighter-rouge&quot;&gt;make install&lt;/code&gt;s them. Now one of the ways is to find what is getting imported in python.&lt;/p&gt;

&lt;p&gt;Fortunately, my mentor Pankhuri has already done some heavy lifting. She has configured some of the dependencies for her CarViz package. I used this repo as a reference and started adding modules are required.&lt;/p&gt;

&lt;p&gt;I wanted to have a complete isolation from the base repository. Also, I wanted to know exactly what is required. Lastly, whatever I am doing must be reproducible.&lt;/p&gt;

&lt;p&gt;By end of week 2, I was able to launch the exercise in ROS Noetic and also from a Dockerfile. On the user side, you just have to run the usual &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose up --build&lt;/code&gt; But on the background, there are a lot of things happening.&lt;/p&gt;

&lt;p&gt;Normally, I would have loved to explain all the fine details about CMake, Packaging and catkin. But, as the process of porting is still ongoing, the blog is going to be a bit shorter.  For now, I leave you with this gif and feel free to create issues / PRs on my repo!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;assets/blog-images/week-2/AmazonExerciseDocker.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Doei!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="cmake" /><category term="docker" /><category term="porting" /><category term="week-2" /><summary type="html">Issues Fixed: #3 with PR #4.</summary></entry><entry><title type="html">And we have a liftoff!</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/and-we-have-a-liftoff" rel="alternate" type="text/html" title="And we have a liftoff!" /><published>2020-06-03T11:00:00+02:00</published><updated>2020-06-03T11:00:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/and-we-have-a-liftoff</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/and-we-have-a-liftoff">&lt;blockquote&gt;
  &lt;p&gt;Issues Fixed:&lt;/p&gt;

  &lt;p&gt;&lt;a href=&quot;https://github.com/JdeRobot/assets/pull/53&quot;&gt;#53,54&lt;/a&gt; &lt;em&gt;“Adding Noetic support for repo”&lt;/em&gt; with PRs &lt;a href=&quot;https://github.com/JdeRobot/assets/pull/54&quot;&gt;#54&lt;/a&gt; for Jderobot_assets,
and &lt;a href=&quot;https://github.com/ros/rosdistro/pull/25236&quot;&gt;#25236&lt;/a&gt; for ROS distro with &lt;a href=&quot;https://github.com/JdeRobot/assets-release/commits?author=shreyasgokhale&quot;&gt;commits&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h1 id=&quot;week-1-blog&quot;&gt;Week 1 Blog&lt;/h1&gt;

&lt;p&gt;This week begins the official start of the 2020 GSoC and with that, we have the first package release from Jderobot Academy for ROS Noetic: Jderobot-Assets! Although porting a simple dependancies packages was not so challenging, the release process was indeed an interesting one!&lt;/p&gt;

&lt;h2 id=&quot;releasing-ros-packages&quot;&gt;Releasing ROS Packages&lt;/h2&gt;

&lt;p&gt;Software in ROS is organized in packages and that is what makes ROS so easy to use. Since the introduction of catkin, ros packages are super easy to use, make and also to distribute. But what does it exactly mean when you want to release the package. Let me explain it with a story.&lt;/p&gt;

&lt;h3 id=&quot;why-to-release&quot;&gt;Why to release?&lt;/h3&gt;

&lt;p&gt;Suppose you have created a package, have tested it and it works quite fine locally. You currently have it in your catkin_workspace/src folder and now you want to give to give it to your friends.&lt;/p&gt;

&lt;p&gt;Easy, you just upload the repo on github and tell your friends to download it.&lt;/p&gt;

&lt;p&gt;Your friends like your package and they recommend to their friends. Your package is instant hit and now everyone wants it. Meanwhile people are contributing to your github repo to improve the package.&lt;/p&gt;

&lt;p&gt;One day you find out that when you pull the latest changes, your package is not getting compiled. But some other user has no such problem. Somewhere, there was a package, dependent on your package, which is now also not working. You have now no clue what broke the package, how to restore it to a working version. At the same time, there are many users which have different platforms and they need an easier way to get the package rather than doing a git pull.&lt;/p&gt;

&lt;p&gt;Now you wished only if there existed some kind of common infrastructure which can make all these problems go away.&lt;/p&gt;

&lt;p&gt;Then you remember there exists such a place: the official ros package repository. (AKA the place from where you can just do  &lt;code class=&quot;highlighter-rouge&quot;&gt;apt install ros-&amp;lt;distro&amp;gt;-&amp;lt;package&amp;gt;&lt;/code&gt; . In short, this is what it means by releasing the package.&lt;/p&gt;

&lt;h3 id=&quot;prepare-for-release&quot;&gt;Prepare for release&lt;/h3&gt;

&lt;p&gt;For release, we need a couple of things&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The package must be in &lt;a href=&quot;http://wiki.ros.org/ROS/Tutorials/CreatingPackage&quot;&gt;right format&lt;/a&gt;, with &lt;code class=&quot;highlighter-rouge&quot;&gt;package.xml&lt;/code&gt; filled in and ready for the release.&lt;/li&gt;
  &lt;li&gt;The package must be indexed in the &lt;a href=&quot;https://github.com/ros/rosdistro&quot;&gt;rosdistro&lt;/a&gt; by creating a PR&lt;/li&gt;
  &lt;li&gt;Package needs to be converted into a binary (&lt;code class=&quot;highlighter-rouge&quot;&gt;ros-rosdistro-example-package&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Our package will have 2 repositories, one where we put our package and another one with &lt;package-name&gt;-release. The second repository is only for recording releases **and you don't have to edit it manually.**&lt;/package-name&gt;&lt;/p&gt;

&lt;p&gt;Now, to make our lives easier, ROS has a release automation tool called &lt;a href=&quot;http://wiki.ros.org/bloom&quot;&gt;bloom&lt;/a&gt;. We can also do everything we mentioned using bloom. But before that, we need to check a few things:&lt;/p&gt;

&lt;ul class=&quot;task-list&quot;&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Check if xml is in correct format (the first line must be xml indication tag, don’t put comments there!) Do &lt;strong&gt;not&lt;/strong&gt; edit the version and other information manually. It will be updated during the bloom release.&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Do you have push access to the main package repository and the release repository? (if they exist already) Otherwise, follow &lt;a href=&quot;http://wiki.ros.org/bloom/Tutorials/FirstTimeRelease&quot;&gt;this&lt;/a&gt; for the first time release&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Have you merged all of your changes in the branch you are aiming for the release?&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Is bloom installed? &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo apt-get install python-bloom&lt;/code&gt;&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Is your package already indexed? If not, follow &lt;a href=&quot;http://wiki.ros.org/rosdistro/Tutorials/Indexing%20Your%20ROS%20Repository%20for%20Documentation%20Generation&quot;&gt;this&lt;/a&gt;.&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Make sure you have authorised bloom for github PRs using &lt;a href=&quot;http://wiki.ros.org/bloom/Tutorials/GithubManualAuthorization&quot;&gt;this&lt;/a&gt; tutorial.&lt;/li&gt;
  &lt;li class=&quot;task-list-item&quot;&gt;&lt;input type=&quot;checkbox&quot; class=&quot;task-list-item-checkbox&quot; disabled=&quot;disabled&quot; /&gt;Have you read the documentation on &lt;a href=&quot;http://wiki.ros.org/bloom&quot;&gt;here&lt;/a&gt;?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Now we can do the release:&lt;/p&gt;

&lt;h3 id=&quot;the-release-process&quot;&gt;The release process&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Generate &lt;code class=&quot;highlighter-rouge&quot;&gt;changelog.rst&lt;/code&gt; using &lt;code class=&quot;highlighter-rouge&quot;&gt;catkin_generate_changelog&lt;/code&gt; for a new version update. The file will be automatically updated based on your previous commits and the contributers. Edit if necessary.&lt;/li&gt;
  &lt;li&gt;Commit and push changes.&lt;/li&gt;
  &lt;li&gt;Prepare package for release using &lt;code class=&quot;highlighter-rouge&quot;&gt;catkin_prepare_release&lt;/code&gt; . This will increment the version of your package ( 1.0.2 →1.0.3) and tag it on git for appropriate release.&lt;/li&gt;
  &lt;li&gt;Run &lt;code class=&quot;highlighter-rouge&quot;&gt;bloom-release&lt;/code&gt; with appropriate command parameters.
    &lt;ol&gt;
      &lt;li&gt;If a completely new release: &lt;code class=&quot;highlighter-rouge&quot;&gt;bloom-release --rosdistro &amp;lt;ros_distro&amp;gt; --track &amp;lt;ros_distro&amp;gt; &amp;lt;your_repository_name&amp;gt; --edit&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;If updating distro, for example hydro &lt;code class=&quot;highlighter-rouge&quot;&gt;bloom-release foo --track hydro --rosdistro hydro --new-track&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;If updating version for melodic &lt;code class=&quot;highlighter-rouge&quot;&gt;bloom-release foo --rosdistro melodic&lt;/code&gt;&lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;Follow on screen instructions. Keep options mostly the same except probably the branch from which you are going to deploy.&lt;/li&gt;
  &lt;li&gt;The Bloom will do everything. Sit back and watch for errors.&lt;/li&gt;
  &lt;li&gt;If everything goes fine, bloom will update release repo and also create a PR for ROS distro on behalf of your release.&lt;/li&gt;
  &lt;li&gt;Wait for your PR to be approved (Might take a day or two)&lt;/li&gt;
  &lt;li&gt;Do your victory dance!&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This week I did all these things and finally published &lt;a href=&quot;https://github.com/JdeRobot/assets&quot;&gt;jderobot_assets&lt;/a&gt; package for ROS Noetic. The above guide was the summary of the instructions that I followed. However, the guide might be incorrect/ incomplete and I’ll be updating it as I port more packages.&lt;/p&gt;

&lt;h2 id=&quot;one-docker-command-to-run-it-all&quot;&gt;One (docker) command to run it all&lt;/h2&gt;

&lt;p&gt;I added a docker compose file which sets up the docker containers in a proper way. Also updated our academy image with multi stage builds and mesa packages so it can run GUI applications.&lt;/p&gt;

&lt;p&gt;Now it can start the academy exercise effortlessly, with one command.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xhost +&lt;span class=&quot;s2&quot;&gt;&quot;local:docker@&quot;&lt;/span&gt; 
docker-compose up &lt;span class=&quot;nt&quot;&gt;--build&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Docker will pull required images and copy exercise folders to launch the exercise.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;assets/blog-images/week-1/amazon-warehouse.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Give it a go and report me if there are any issues!&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Au revoir!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="release" /><category term="how-to" /><category term="week-1" /><summary type="html">Issues Fixed: #53,54 “Adding Noetic support for repo” with PRs #54 for Jderobot_assets, and #25236 for ROS distro with commits.</summary></entry><entry><title type="html">Community Bonding 2</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/community-bonding-2" rel="alternate" type="text/html" title="Community Bonding 2" /><published>2020-05-28T12:00:00+02:00</published><updated>2020-05-28T12:00:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/community-bonding-2</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/community-bonding-2">&lt;blockquote&gt;
  &lt;p&gt;Issues Fixed: &lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/issues/1&quot;&gt;#1&lt;/a&gt; with &lt;a href=&quot;https://github.com/TheRoboticsClub/colab-gsoc2020-Shreyas_Gokhale/pull/2&quot;&gt;PR&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;motion-planning&quot;&gt;Motion Planning&lt;/h2&gt;

&lt;p&gt;After successfully running A* path planner, I wanted to implement the actual mechanism of following the path AKA motion planner or path follower. I thought this shouldn’t take much effort as we have the path and just have to follow it.&lt;/p&gt;

&lt;p&gt;Boy I was wrong! It turned out that in absence of prepackaged solutions, following path is much much harder. Normally in ROS, you can use &lt;a href=&quot;http://wiki.ros.org/move_base&quot;&gt;Move base&lt;/a&gt; or just the &lt;a href=&quot;http://wiki.ros.org/dwa_local_planner&quot;&gt;DWA Planner&lt;/a&gt; to do fine path planning. This involves actually going to each and every node and controlling the PID for acceleration and turning. But in absence of these packages, you have to do everything by yourself.&lt;/p&gt;

&lt;p&gt;The simplest method you can implement is following the pose. You have starting position (x1,y1,z1) and you want to go to (x2,y2,z2). My plan was to apply a hypotenuse vector acceleration proportional to the distance between two points. Then once it reaches the point, turn it according to the pose. However, this resulted in quick overshoots, turning my car into the &lt;a href=&quot;https://en.wikipedia.org/wiki/Elon_Musk%27s_Tesla_Roadster&quot;&gt;tesla roadster in space&lt;/a&gt;. No matter how I tweaked, this was not working.&lt;/p&gt;

&lt;p&gt;After my failed attempt at doing it myself, I turned onto some existing python libraries, which I could mould according to my needs. I found &lt;a href=&quot;https://github.com/AtsushiSakai/PythonRobotics/blob/3607d72b60cd500806e0f026ac8beb82850a01f9/PathTracking/move_to_pose/move_to_pose.py#L127&quot;&gt;this&lt;/a&gt; amazing code set, which I tried to implement. But I still couldn’t achieve what I wanted. Then I realised my 2 main mistakes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The A* path planner samples all of the points. Hence the path has much higher resolution than it can handle.&lt;/li&gt;
  &lt;li&gt;I didn’t do the &lt;a href=&quot;https://jderobot.github.io/RoboticsAcademy/exercises/Drones/position_control&quot;&gt;local planning exercise&lt;/a&gt;. Hence, I didn’t have any sophisticated PID controller. And as we have to control the car only based on angular and linear acceleration, this is extreamly essential.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;So sadly I had to leave the exercise in a bit unsolved case. I surely want to revisit it once I get time!&lt;/p&gt;

&lt;h2 id=&quot;ros-noetic-release&quot;&gt;ROS Noetic release&lt;/h2&gt;

&lt;p&gt;As with all the turtle fans, I was excited for the new ROS Noetic Ninjemys release. Ubuntu 20 and Python3 by default are the 2 main highlights of this release. And sadly, this will be the last ROS 1 release ever! But hey, all things happen for a reason, and here it is for ROS2!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/ros-infrastructure/artwork/master/distributions/noetic.png&quot; alt=&quot;ROS-Noetic&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We decided that it would be the best to take the release out for a spin using Docker or VM. Sadly, OSRF has not published the finalised Docker images on the dockerhub. Hence, for now, I created my own dockerfile based on the official dockerfile. Check it out!&lt;/p&gt;

&lt;p&gt;My next target will be to run our exercise dependencies on noetic, mainly the Jderobot academy base, which currently only supports until melodic&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Bis Bald!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Just in! OSRF pushed the images on the DockerHub. So those will be used in the next releases.&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="setup" /><category term="global-navigation" /><category term="docker" /><category term="community-bonding" /><summary type="html">Issues Fixed: #1 with PR</summary></entry><entry><title type="html">Community Bonding 1</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/community-bonding-1" rel="alternate" type="text/html" title="Community Bonding 1" /><published>2020-05-17T20:00:00+02:00</published><updated>2020-05-17T20:00:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/community-bonding-1</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/community-bonding-1">&lt;h1 id=&quot;global-navigation-path-planning&quot;&gt;Global Navigation Path Planning&lt;/h1&gt;

&lt;p&gt;To get accustomed to the academy exercises, I wanted to start with an exercise which is somewhat familiar, yet challenging.
Path planning is a typical problem in CS and it is used at various (and sometimes, &lt;a href=&quot;https://www.researchgate.net/publication/267809499_A-based_Pathfinding_in_Modern_Computer_Games&quot;&gt;quite unusual&lt;/a&gt; ! ) places.
Similarly, motion planning is important to actually follow path in a sequence.&lt;/p&gt;

&lt;p&gt;The exercise I selected &lt;a href=&quot;https://jderobot.github.io/RoboticsAcademy/exercises/AutonomousCars/global_navigation/&quot;&gt;Global Navigation&lt;/a&gt; 
exercise which combines path planning with motion planning.&lt;/p&gt;

&lt;h2 id=&quot;pre-processing&quot;&gt;Pre Processing&lt;/h2&gt;

&lt;p&gt;As usual, I started by setting my environment&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Configured PyCharm for the repo&lt;/li&gt;
  &lt;li&gt;Created and set up pip venv for easy access&lt;/li&gt;
  &lt;li&gt;Created a &lt;code class=&quot;highlighter-rouge&quot;&gt;requirements.txt&lt;/code&gt; file for future installs (in case pyqt5 of problem, use this -&amp;gt; 
&lt;a href=&quot;https://stackoverflow.com/questions/18042919/how-to-install-pyqt5-on-a-new-virtualenv-and-work-on-an-idle&quot;&gt;https://stackoverflow.com/questions/18042919/how-to-install-pyqt5-on-a-new-virtualenv-and-work-on-an-idle&lt;/a&gt; )&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;understanding-apis&quot;&gt;Understanding APIs&lt;/h3&gt;
&lt;p&gt;Listing various APIs mentioned on the page:&lt;/p&gt;

&lt;h4 id=&quot;base-apis&quot;&gt;Base APIs&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sensor.getRobotX()&lt;/code&gt; - to obtain the position of the robot&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sensor.getRobotY()&lt;/code&gt; - to obtain the position of the robot&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sensor.getRobotTheta()&lt;/code&gt; - to obtain the orientation of the robot with respect to the map&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vel.setV()&lt;/code&gt; - to set the linear speed&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;vel.setW()&lt;/code&gt; - to set the angular velocity&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;grid-apis&quot;&gt;Grid APIs&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.getMap()&lt;/code&gt; - returns the image of the map that is being displayed. The image returned will be a 3-channel image with values 0 or 255, where 0 represents the obstacles and 255 the road. Although the image has 3 channels, for this practice it will be useful to use only one.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.getDestiny()&lt;/code&gt; - returns the selected destination through the GUI as a tuple (x, y).&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.getPose()&lt;/code&gt; - returns the position with respect to the map, not with respect to the world, also as a tuple (x, y).&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.showGrid()&lt;/code&gt; - creates a window in which represents the values ​​of the field that have been assigned to the grid. The smaller values ​​will have a color closer to black, and will become clearer as larger values ​​are involved. For the representation, a copy of the grid is made and its values ​​are normalized so that they are between 0 and 1, and it is represented later with cv2.imshow().&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.getVal(x, y)&lt;/code&gt; - returns the value in that grid position.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.setVal(x, y, val)&lt;/code&gt; - sets the value val to the indicated position.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.setPathVal(x, y, val)&lt;/code&gt; - sets the value val to the indicated position.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.getPathVal(x, y)&lt;/code&gt; - returns the value of the indicated position.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grid.setPathFinded()&lt;/code&gt; - establishes that the path has been found to start painting.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gridToWorld(gridX, gridY)&lt;/code&gt; - receives the x and y components of the coordinates of the map and returns a tuple with the equivalent coordinates in the world: (worldX, worldY)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;worldToGrid(worldX, worldY)&lt;/code&gt; - receives the x and y components of the world coordinates and returns a tuple with the equivalent coordinates in the map: (gridX, gridY)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I executed a few to understand the structures&lt;/p&gt;

&lt;h4 id=&quot;responses&quot;&gt;&lt;strong&gt;Responses&lt;/strong&gt;&lt;/h4&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getMap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;29&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                        &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
                        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;

&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getDestiny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;274&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getPose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This confirmed a few things:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Map will &lt;em&gt;probably&lt;/em&gt; need a conversion to binary representation.&lt;/li&gt;
  &lt;li&gt;The co-ordinates of destination and source are flipped (or if you consider the other way, the map is flipped)&lt;/li&gt;
  &lt;li&gt;The whole map is visible, hence the algorithm &lt;strong&gt;must&lt;/strong&gt; either return the path or the point is non-traversable.&lt;/li&gt;
  &lt;li&gt;As the maze is connected, ( and is not disjoint at some places) we can safely say that white point (255) is traversable.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;path-planning-algorithm&quot;&gt;Path planning algorithm&lt;/h2&gt;

&lt;p&gt;As described on the exercise page, we can either solve this using gradient path planning and sampling
based path planning. Both have their positives and negatives and either are preferable in specific scenarios.
As the exercise was already solved using Gradient Path planning, I decided to solve it using sampling based approaches.&lt;/p&gt;

&lt;p&gt;The most basic and simplest of sampling based path planning algorithm (after Dijkstra) is A*. The concept is simple:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;The map is divided in nodes&lt;/li&gt;
  &lt;li&gt;Each node has 2 properties: It’s distance from start node (g) and the destination node (h)&lt;/li&gt;
  &lt;li&gt;We have to select nodes in such a way that we have a minimum over these two properties. i.e
 minimum of f = g + h&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I found a simple implementation of A* in python on &lt;a href=&quot;&quot;&gt;this&lt;/a&gt; blog. I made a class out of it and created a separate &lt;code class=&quot;highlighter-rouge&quot;&gt;AStar.py&lt;/code&gt;
file, which can be imported in our code. The class declaration method &lt;code class=&quot;highlighter-rouge&quot;&gt;AStar.Astar(map, source, dest)&lt;/code&gt;
accepts 3 arguments: A binary grid map, starting node (x1,y1) and destination node (x2,y2)&lt;/p&gt;

&lt;p&gt;After spending a lot of time in finding out why the path is not getting displayed even after setting the variable,
I realised that I didn’t call the &lt;code class=&quot;highlighter-rouge&quot;&gt;self.grid.setPathFinded()&lt;/code&gt; method.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://media.giphy.com/media/AjYsTtVxEEBPO/giphy.gif&quot; alt=&quot;Baka!&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And voila, there was the green path! Comparing times, the algorithm takes more time, farther the destination. 
But it is quite quick compared to gradient path planner!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;assets/blog-images/community-bonding/AStar1.gif&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In the next post, we’ll go over the motion planning and squash bugs (if any!).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;Ciao!&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;reference&quot;&gt;Reference:&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;https://medium.com/@nicholas.w.swift/easy-a-star-pathfinding-7e6689c7f7b2&quot;&gt;Easy A* (star) Pathfinding&lt;/a&gt;&lt;/p&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="path-planning" /><category term="global-navigation" /><category term="community-bonding" /><summary type="html">Global Navigation Path Planning</summary></entry><entry><title type="html">Beginning of GSoC 2020!</title><link href="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/beginning-of-gsoc-journey" rel="alternate" type="text/html" title="Beginning of GSoC 2020!" /><published>2020-05-11T10:30:00+02:00</published><updated>2020-05-11T10:30:00+02:00</updated><id>http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/beginning-of-gsoc-journey</id><content type="html" xml:base="http://localhost:4000/colab-gsoc2020-Shreyas_Gokhale/beginning-of-gsoc-journey">&lt;h1 id=&quot;hola-gsoc-2020&quot;&gt;Hola GSoC 2020!&lt;/h1&gt;

&lt;p&gt;To be honest, I didn’t even knew what Google’s Summer of Code is until 1 May 2019, 
when a friend told me about it during a trek. I loved the idea of contributing to the open source community
during otherwise wasteful summer holidays! I wanted to apply, but it was too late to apply for 2019.&lt;/p&gt;

&lt;p&gt;As a masters student, due graduate by year 2019, I decided that if by some means I am still not
graduated by 2020, I’ll apply for GSoC. And (&lt;del&gt;un&lt;/del&gt;) fortunately, I was able to!&lt;/p&gt;

&lt;h2 id=&quot;motivation&quot;&gt;Motivation&lt;/h2&gt;
&lt;p&gt;I stumbled upon Jderobot Academy and it immediately struck a cord with me. As someone who learned 
ROS with trial and error, Jderobot Academy provides a well directed path towards learning robotics.
If only I knew the academy before!&lt;/p&gt;

&lt;p&gt;As browsed the exercises, I liked the Amazon Robotics exercise in particular.
Automated warehouses play an important role in modern Industry 4.0 based factories.
In companies such as Amazon, multiple robot agents coordinate with each other to optimize delivery times.
When a job such as “pickup from shelves” is scheduled, a task is assigned to one of these agents based on a number of factors, such as its proximity to the location or its path towards the goal. In many cases, the agents roam freely, communicate with each other, and have to avoid obstacles and humans in their path.
The exercise, which is indeed cleverly designed, is very close to the real world usage.&lt;/p&gt;

&lt;h2 id=&quot;jdemultibot&quot;&gt;JdeMultiBot&lt;/h2&gt;
&lt;p&gt;My project, &lt;em&gt;JdeMultiBot&lt;/em&gt;, will extend the single robot Amazon warehouse exercise to implement a scalable cooperative multi-agent task and path planning system.
The exercise will also leverage the features of ROS2, giving students a chance to get acquainted with the new age of robotics.&lt;/p&gt;</content><author><name>Shreyas Gokhale</name><email>me@shreyasgokhale.com</email></author><category term="blog" /><category term="community-bonding" /><summary type="html">Hola GSoC 2020!</summary></entry></feed>